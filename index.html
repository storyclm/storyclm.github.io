<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>StoryCLM Styleguide</title>
</head>
<body>

<h4>Структура презентации</h4>
<ul>
    <li>Презентация загружается в систему в виде архивированного пакета;</li>
    <li>Поддерживает только формат .zip (форматы .7z, .rar, др. не поддерживаются);</li>
    <li>Презентация всегда должна содержать файл index.html (открывается именно этот файл при старте презентации на
        планшете);
    </li>
    <li>Возможно использовать любую структуру файлов и каталогов;</li>
    <li>Рекомендуется использовать .html файлы в качестве слайдов презентации (см. пункт «Слайды презентации»);</li>
    <li>Слайды презентации необходимо класть в «корень» вместе с index.html для того, чтобы система распознала их и
        включила сбор количественных метрик по ним;
    </li>
    <li>Файлы с расширением .html могут находиться не только в корне презентации, но в таком случае они не будут
        считаться в системе «слайдами» и соответственно, по ним не будет автоматически собираться статистика, и они
        не будут включены в системную карту презентации (если она используется)
    </li>
    <li>Медиафайлы (аудио, видео) необходимо класть в каталог с названием medifies (см. пункт «Медиафайлы»);</li>
    <li>Медиафайлы также можно загружать отдельно от архива (в панели администратора);</li>
    <li>В архиве не должно быть файлов недопустимых форматов (см. пункт «Недопустимые файлы»);</li>
    <li>Для правильного отображения содержимого текстовых файлов, они должны быть в кодировке UTF-8;</li>
    <li>Следует использовать латиницу в названиях файлов и каталогов в пакете для корректного отображения их
        имени;
    </li>
    <li>Презентация может не содержать слайдов совсем (необходим только контент или используется как источник данных
        через API); Слайды презентации
    </li>
    <li>Пакет не имеют ограничений по размеру;</li>
    <li>Название файла слайда имеет ограничение в 256 символов;</li>
    <li>Название файла слайда может содержать символы любого регистра (кроме index.html);</li>
    <li>Расширение слайда должно быть .html (в нижнем регистре);</li>
    <li>Система позволяет использовать возможности HTML5, CSS3 и любые JavaScript библиотеки, которые поддерживаются
        JS-движком компонента UIWebView;
    </li>
    <li>Код и верстка должны быть оптимизированы как для Mobile Safari;</li>
    <li>В слайдах возможно использование AJAX для загрузки данных (скриптов, таблиц стилей, фреймов);</li>
    <li>Внешние таблицы стилей и файлы со скриптами кэшируются на уровне приложения автоматически;</li>
    <li>Если необходимо избежать кэширования, то необходимо добавлять в конец имени файла со стилем или скриптом
        знак "?";
    </li>
    <li>Логика переходов между слайдами реализуется на уровне контента (например, через относительные ссылки и/или
        window.location)
    </li>
</ul>
<h4>Поведение слайда полностью зависит только от его структуры, стилей и функциональности. Но необходимо
    учитывать, как ваши скрипты и контент загружают процессор и память устройства. Тяжелые слайды с сложными
    скриптами могут долго загружаться и медленно работать на устройствах старше iPad 4. Следует помнить, что
    мобильные устройства гораздо медленнее и обладает гораздо меньшими ресурсами чем персональные компьютеры.</h4>
<h4>Медиафайлы</h4>
<ul>
    <li>Медиафайлы должны находиться в корне директории mediafiles;</li>
    <li>Поддерживаются только форматы .mp3, .wav, .mp4, .ogg, .webm, .pdf;</li>
    <li>Только файлы указанных форматов в каталоге mediafiles будут доступны через специальные контроллер внутри
        приложения;
    </li>
    <li>Все файлы иных расширений будут удаляться из директории mediafiles при загрузке архива презентации;</li>
    <li>Все файлы любых расширений из подкаталогов каталога mediafiles будут удаляться при загрузке архива
        презентации;
    </li>
    <li>Медиафайлы могут быть доступны из презентации и могут использоваться в логике слайда;</li>
    <li>Имя медиафайла может быть записано в любом регистре;</li>
    <li>Медиафайлы можно загружать независимо от самой презентации (например, появились новые материалы в .pdf) и
        данные обновления не потребуют обновления всей презентации на планшетах пользователей;
    </li>
    <li>Медиафайлы, загруженные через панель администратора, появляются в папке mediafiles на планшетах
        пользователей и становятся доступны из презентации;
    </li>
</ul>
<h4>Системная карта презентации</h4>
<h4>В приложении для iPad предусмотрена возможность для просмотра карты презентации, отображающей
    внутреннюю структуру слайдов и переходов между ними. Для того, чтобы карта заработала необходимо:</h4>
<ol>
    <li>Прописать 3 мета-тега в каждом слайде презентации (clm-swipe-next, clm-swipe-previous и clm);</li>
    <li>clm-swipe-next указывается слайд, в который мы можем переместиться из текущего по свайпу вперед, в
        clm-swipe-previous - слайд, в который мы можем переместиться из текущего по свайпу слева назад, в clm
        перечисляются все слайды, в которые мы можем переместиться с данного слайда;
    </li>
    <li>В теге clm необходимо указать слайды в следующем порядке: первым идет предыдущий (который указан в
        clm-swipe-previous), далее следующий (указан в clm-swipe-next);
    </li>
    <li>Если текущий слайд является узловым (разветвляющим), тогда в мета-теге clm указываются все имена слайдов,
        которые в рамках карты презентации являются дочерними к текущему;
    </li>
    <li>Если на текущем слайде есть переходы на слайды, находящиеся не следом за текущем (либо перед ним), например,
        на slideX.html из другой ветки, то slideX.html не указывается в мета-тегах;
    </li>
</ol>
<h4>Пример:</h4>
<code>
    &lt;head&gt;
    …
    &lt;meta name=”clm-swipe-next" content=”03.html"&gt;
    &lt;meta name=”clm-swipe-previous" content=”05.html"&gt;
    &lt;meta name=”clm" content="05.html, 03.html"&gt;
    …
    &lt;/head&gt;
</code>

<h4>Недопустимые файлы</h4>
<h4>Во время загрузки архива с презентацией из него будут удаляться все недопустимые файлы:</h4>
<p>.apk, .bat, .bin, .cgi, .com, .cpp, .exe, .gadget, .jar, .msi, .msu, .paf, .pif, .pwz, .vb, .wsf, .ipa, .app,
    .coffee, .csh, .fxp, .hta, .inx, .phar, .plx, .pyc, .pyo, .asp, .aspx, .crdownload, .dll, .download, .eml, .flv,
    .htaccess, .jnlp, .jsp, .msg, .mso, .php, .prf, .swf, .torrent, .url, .webarchive, .webloc, .accdb, .b2, .db,
    .kdc, .log, .mdb, .mdf, .bak, .temp, .tmp, .cpl, .cur, .drv, .lnk, .reg, .rtp, .sys, .ini, .plist, .cfg,
    .eap.
</p>


</body>
</html>